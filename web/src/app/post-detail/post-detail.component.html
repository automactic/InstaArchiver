<div *ngIf="post" class="media">
  <ng-template ngFor let-item [ngForOf]="post.items" let-i="index">
    <img *ngIf="item.type == 'image'" loading="lazy" [src]="postService.getMediaPath(post.username, item.filename)">
    <video *ngIf="item.type == 'video'" preload="none" controls muted [poster]="postService.getPosterPath(post.username, item.thumb_image_filename)">
      <source [src]="postService.getMediaPath(post.username, item.filename)" type="video/mp4">
    </video>
  </ng-template>
  <div class="caption">
    <b>{{ post.timestamp | date }}</b>
    <div>{{ post.caption }}</div>
  </div>
</div>