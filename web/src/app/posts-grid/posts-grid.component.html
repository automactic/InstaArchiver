<div class="container">
  <ng-template ngFor let-shortcode [ngForOf]="postService.shortcodes">
    <div 
      *ngIf="postService.get(shortcode) as post"
      [routerLink]="['/posts']"
      [queryParams]="{selected: shortcode}" 
      [queryParamsHandling]="'merge'"
      routerLinkActive="active"
    >
      <img *ngIf="post.items[0].type == 'image'" loading="lazy" [src]="postService.getMediaPath(post.username, post.items[0].filename)">
      <img *ngIf="post.items[0].type == 'video'" loading="lazy" [src]="postService.getPosterPath(post.username, post.items[0].thumb_image_filename)">  
    </div>
  </ng-template>
</div>